---
lab:
  title: 'التمرين المعملي 5: إنشاء تدفق Power Automate'
  learning path: 'Learning Path: Demonstrate the capabilities of Microsoft Power Automate'
  module: 'Module 2: Build a Microsoft Power Automate flow'
---

## هدف التعلم

في هذا التمرين، سيقوم المتعلمون بإنشاء سلسلة من تدفقات السحابة المختلفة باستخدام Microsoft Copilot في Power Automate. سوف تستخدم أساليب إنشاء مختلفة مثل Copilot ومن الصفر لتصبح على دراية بالخيارات المختلفة المتاحة.

عند الانتهاء بنجاح من هذا التمرين، سوف:

- استخدام مطالبات اللغة الطبيعية لتصميم مهام سير العمل
- تكوين المشغلات والإجراءات
- اختبار الأتمتة للاستخدام العملي.

### السيناريو

Contoso Consulting هي مؤسسة خدمات مهنية متخصصة في تكنولوجيا المعلومات والخدمات الاستشارية الذكاء الاصطناعي. على مدار العام، يقدمون العديد من الأحداث المختلفة لعملائها. بعض هذه هي التجارة يظهر الأحداث نمط حيث لديهم العديد من الشركاء تأتي في وتقديم تفاصيل عن المنتجات الجديدة، واتجاهات السوق، والخدمات. تحدث الندوات الأخرى على مدار العام وهي ندوات عبر الإنترنت سريعة تستخدم لتوفير تفاصيل حول المنتجات الفردية. بالإضافة إلى ذلك، بدأت Contoso في استخدام العوامل التلقائية لمساعدة العملاء في الأسئلة.

ترغب شركة Contoso في استخدام Power Automate لإنشاء تدفق تأكيد التسجيل الذي سيرسل بريدا إلكترونيا تلقائيا إلى عميل عند التسجيل في حدث. 

في هذا التمرين، ستقوم بإنشاء سلسلة من تدفقات Power Automate استنادا إلى معايير محددة.

قبل البدء في هذا التمرين، يجب أن تكون قد أكملت المختبرات التالية:

- **التمرين المعملي 2 - إنشاء نموذج بيانات**
- **التمرين المعملي 5 - إنشاء تطبيق يستند إلى النموذج**

الوقت المقدر لإكمال هذا التمرين هو 20 إلى 30 دقيقة.

## التمرين 1: إنشاء تدفق إعلام تسجيل الجلسة

في هذا التمرين الأول، ستقوم بإنشاء تدفق سيتم تشغيله تلقائيا عند إنشاء تسجيل جلسة عمل جديد. وسوف تحصل على تفاصيل الجلسة والحدث والاتصال الذي قام بالتسجيل وإرسال بريد إلكتروني إلى هذا مع تفاصيل التسجيل الخاصة بهم.

### المهمة 1: إنشاء تدفق

نريد إرسال تأكيد تسجيل إلى أي مستخدمين مسجلين حديثا. سننشئ تدفقا يلتقط تفاصيل التسجيل ويرسل رسالة بريد إلكتروني للتأكيد إلى المستخدم المسجل.

1. الانتقال إلى [https://make.powerautomate.com](https://make.powerautomate.com/).

1. قد تحتاج إلى إعادة المصادقة، حدد **تسجيل الدخول** واتبع التعليمات إذا لزم الأمر.

1. حدد بيئة **Dev One** في الجزء العلوي الأيمن إذا لم تكن محددة بالفعل. (مهم، لا تنس القيام بهذه الخطوة).

1. في جزء التنقل الأيمن، حدد **+ Create**. (إذا طلب منك ذلك، فحدد **بدء الاستخدام**.)

1. حدد  **تدفق** السحابة التلقائي.

1. أدخل `Registration Notification` كـ **اسم التدفق**.

1. في **اختيار مشغل** التدفق، ابحث `Dataverse`عن .

1. اختر المشغل **عند إضافة صف، أو تعديله أو حذفه**، ثم حدد **إنشاء**.

    إذا رأيت **خطأ معلمات** غير صالح، فهذا لأنك لم تقم بالمصادقة. اتبع الخطوات أدناه لإنشاء اتصال. 
    - حدد **تغيير الاتصال**.
    - حدد **إضافة جديد**.
    - في **حقل اسم** الاتصال، أدخل **مسؤول** MOD. **اترك نوع** المصادقة ك **OAuth**، وحدد **تسجيل الدخول**.
    - بمجرد تسجيل الدخول، انتقل إلى **الخطوة 9.** 

1. بادر بملء شروط المشغل للتدفق:

    - حدد **تمت الإضافة** في **نوع التغيير**
    - حدد **تسجيلات الجلسة** لاسم **الجدول.**
    - حدد **Organization** for **Scope** في خطوة المشغل. 

1. أعد تسمية خطوة `When a Session Registration is added`المشغل .

    ![لقطة شاشة لوقت إضافة تكوين مشغل جلسة عمل](media/power-automate-01.png)

هذه ممارسة جيدة، لذا يمكنك أنت ومحررو التدفق الآخرون فهم الغرض من الخطوة دون الحاجة إلى الخوض في التفاصيل.


### المهمة 2: إنشاء خطوة للحصول على تفاصيل جلسة الحدث التي يتم التسجيل من أجلها.

1. حدد **+ خطوة جديدة**. 

1. ابحث **عن الحصول على صف حسب المعرف**. 

1. حدد إجراء **الوصول إلى صف حسب المعرّف**.

1. تحديد **جلسات الأحداث** كاسم **جدول**

1. حدد الحقل **معرف الصف**. لاحظ أن الأيقونات تظهر لتحديد **المحتوى** الديناميكي أو **التعبيرات**.

1. في **الحقل معرف** الصف، حدد **جلسة عمل الحدث (القيمة)** من **قائمة المحتوى** الديناميكي. في هذه الخطوة، تبحث عن **جلسة** عمل الحدث لتسجيل **** جلسة العمل التي تم إنشاؤها لتشغيل هذا التدفق.

1. في **الإجراء Get a row by ID** . أعد تسمية هذا الإجراء `Get the Event Session`

    ![لقطة شاشة لتكوين إجراء Get the Event Session](media/power-automate-02.png)

    بعد ذلك، سنحصل على تفاصيل الحدث الذي توجد فيه الجلسة.

1. **ضمن الخطوة الحصول على جلسة** عمل الحدث، حدد **+ إدراج إجراء.**

1. ابحث **عن الحصول على صف حسب المعرف**. 

1. حدد إجراء **الوصول إلى صف حسب المعرّف**.

1. تحديد **الأحداث** كاسم **جدول**

1. حدد الحقل **معرف الصف**. لاحظ أن الأيقونات تظهر لتحديد **المحتوى** الديناميكي أو **التعبيرات**.

1. في **الحقل معرف** الصف، حدد **الحدث (القيمة)** من **قائمة المحتوى** الديناميكي. في هذه الخطوة، تبحث عن **الحدث** لجلسة **** عمل الحدث التي تم التقاطها في الخطوة السابقة.

1. في **الإجراء Get a row by ID** . أعد تسمية هذا الإجراء `Get the Event`.

    ![لقطة شاشة لتكوين إجراء Get the Event](media/power-automate-03a.png)

    وأخيرا، سنحصل على تفاصيل الشخص المسجل للجلسة.

1. ضمن Get Event Details، حدد Insert **new Action**.

1. في حقل البحث، أدخل **الحصول على صف حسب المعرف**.

1. حدد **الحصول على صف حسب المعرف**.

1. حدد **جهات الاتصال** في **اسم الجدول**

1. حدد الحقل **معرف الصف**. لاحظ وجود نافذة منبثقة لتحديد **المحتوى الديناميكي** أو **التعبيرات**.

1. في **الحقل معرف** الصف، حدد **حقل المشارك (القيمة)** من **مشغل عند إضافة** تسجيل جلسة عمل من **قائمة المحتوى** الديناميكي.

1. **حدد النص Get a row by ID**، ثم أعد تسمية هذا الإجراء `Get Participant Details`.

    ![لقطة شاشة لتكوين إجراء Get Participant Details](media/power-automate-04a.png)

### المهمة 3: إنشاء خطوة لإرسال بريد إلكتروني لتأكيد تسجيل الجلسة

1. **ضمن الخطوة الحصول على تفاصيل** المشارك، حدد **إدراج إجراء** جديد.

1. في حقل البحث، أدخل **إرسال بريد إلكتروني**.

1. حدد **إرسال بريد إلكتروني (V2)**.

    قد تتم مطالبتك بإنشاء اتصال ب outlook، إذا كان الأمر كذلك، فحدد **الزر تسجيل الدخول** ، وقم بتسجيل الدخول باستخدام **حساب مسؤول** Mod. 

    ![لقطة شاشة لإنشاء شاشة اتصال](media/power-automate-05.png)

1. أعلى **الحقل إلى** ، حدد أيقونة **الترس** . من القائمة التي تظهر، حدد **استخدام المحتوى** الديناميكي.

    ![لقطة شاشة لاستخدام المحتوى الديناميكي](media/power-automate-06.png) 

1. باستخدام القيم الديناميكية **، في الحقل إلى** ، حدد **البريد الإلكتروني** ضمن **الحصول على تفاصيل** المشارك.

    ![لقطة شاشة لتعيين الحقل إلى على البريد الإلكتروني للمشارك.](media/power-automate-07.png)

1. في **حقل الموضوع** ، تأكد من أنه يقول `Registration Confirmation`.

1. أدخل النص التالي في **نص البريد الإلكتروني**:

    > **ملاحظة:** يجب وضع المحتوى الديناميكي حيث تتم تسمية الحقول بين قوسين. يوصى بنسخ كل النص ولصقه أولاً ثم إضافة المحتوى الديناميكي في الأماكن الصحيحة.

    *`Dear {First Name}, Thank you for registering for our upcoming session {Session Name} on {Event Date}. {Speaker} will be your speaker in this session. Your session is scheduled to last {Duration (Hours)}. Check out our other session at our {Event Name}.`*

    *`Best regards,`*

    *`Events Administration`*
    
    *`Contoso Consulting`*

    بعد ذلك، سنستبدل النص الموجود بين الأقواس بالعناصر الموضحة أدناه.

1. بادر بتمييز النص **{First Name}**. استبدله **بالحقل First Name** من **الخطوة Get Participant Details** .

1. قم بتمييز **النص {Session Name}** . استبدله بالحقل **"اسم** جلسة العمل" **من خطوة الحصول على جلسة** عمل الحدث.

1. قم بتمييز **النص {Event Date}** . استبدله بالحقل **"تاريخ** الحدث" **من الخطوة "الحصول على تفاصيل** الحدث".

1. قم بتمييز **النص {Speaker}** . استبدله **بالحقل Speaker (Value)** من **خطوة Get Event Session** .

1. قم بتمييز **النص {Duration (Hours)}** . استبدله بالحقل **Duration (Hours)** من **خطوة Get Event Session** .

1. قم بتمييز **النص {Event Name}** . استبدله بالحقل **Event Name** من **الخطوة Get Event Details** .

    يجب أن تشبه خطوتك المكتملة الصورة:

    ![لقطة شاشة للبريد الإلكتروني المكتمل](media/power-automate-08.png)

1. حدد **حفظ**.

    اترك علامة تبويب التدفق مفتوحة من أجل المهمة التالية. يجب أن يبدو التدفق على النحو التالي:

### المهمة 4: أدخل بعض بيانات العينة

> **ملاحظة:** إذا أكملت التمرين المعملي 5 - إنشاء تطبيق يستند إلى نموذج، يمكنك تخطي هذه المهمة والانتقال مباشرة إلى المهمة 5. 

1. باستخدام التنقل على اليسار، حدد **التطبيقات**.

1. غير التطبيقات التي يتم عرضها من **تطبيقاتي** إلى **الكل**.

1. مرر مؤشر الماوس فوق **تطبيق Event Management** وحدد أيقونة **Play** .

1. باستخدام التنقل على اليسار، حدد **جهات الاتصال**.

1. في شريط الأوامر، حدد **الزر + جديد** .

1. في **شاشة جهة الاتصال** الجديدة، قم بتكوين كما يلي:

    - **الاسم الأول:** سوزان

    - **اسم العائلة:** دياز

    - **المسمى الوظيفي:** مهندس

1. في رأس النموذج، حدد السهم لأسفل بجوار **نوع** جهة الاتصال.

1. **تعيين نوع** جهة الاتصال إلى **مكبر الصوت**.
    ![لقطة شاشة توضح كيفية تعيين حقل نوع جهة الاتصال في نموذج.](media/power-automate-09.png)

1. **حدد الزر حفظ** لحفظ جهة الاتصال واتركها مفتوحة.

1. **حدد الزر + New**.

1. في **شاشة جهة الاتصال** الجديدة، قم بتكوين كما يلي:

    - **الاسم الأول:** Edgar

    - **اسم العائلة:** Swenson

    - **المسمى الوظيفي:** مهندس معماري

    - **البريد الإلكتروني:** أدخل عنوان بريدك الإلكتروني (هام أو لن يتم تشغيل تدفقك)

1. في رأس النموذج، حدد السهم لأسفل بجوار **نوع** جهة الاتصال.

1. **تعيين نوع** جهة الاتصال إلى **مشارك**.

1. حدد الزر **حفظ وإغلاق**.

    بعد ذلك، سنضيف حدثا جديدا.

1. باستخدام التنقل على اليسار، حدد **الأحداث**.

1. في شريط الأوامر، حدد **الزر + جديد** .

1. في **شاشة حدث** جديد، قم بتكوين كما يلي:

    - **اسم الحدث:** مؤتمر Spring.

    - **تاريخ الحدث:** تاريخ الغد.

    - **الحد الأقصى للحضور:** 500

    - **تفاصيل الحدث:** مؤتمر Spring لعرض أحدث المنتجات والخدمات من موردينا المدعومين.

    - **نوع الحدث:** مؤتمر

    - **الموقع:** سياتل

    - **التسجيل مطلوب:** نعم/صحيح

    ![لقطة شاشة لنموذج الحدث المكتمل. ](media/power-automate-10.png)

1. حدد الزر **حفظ وإغلاق**.

    بعد ذلك، سنضيف جلسة عمل جديدة للحدث.

1. باستخدام التنقل على اليسار، حدد **جلسات عمل الأحداث**.

1. **حدد الزر + New**.

1. تكوين **جلسة** عمل الحدث كما يلي:

    - **اسم الجلسة:** الذكاء الاصطناعي المسؤول

    - **تاريخ الجلسة:** تاريخ الغد

    - **المدة:** 1.5 ساعة

    - **وصف الجلسة:** مع جميع حلول الذكاء الاصطناعي الجديدة، من المهم أن تكون مسؤولا. وسنناقش التحديات.

    - **المتحدث:** سوزان دياز

    - **الحدث:** مؤتمر الربيع

    ![لقطة شاشة لنموذج جلسة عمل الحدث المكتمل. ](media/power-automate-11.png)

1. **حدد الزر حفظ وإغلاق**.

 
### المهمة 5: التحقق من صحة التدفق واختباره

1. إذا لزم الأمر، افتح علامة تبويب جديدة في المستعرض وانتقل إلى [https://make.powerapps.com](https://make.powerapps.com/). 

1. حدد بيئة **Dev One** في الجزء العلوي الأيمن إذا لم تكن محددة بالفعل.

1. حدد **التطبيقات** وافتح **تطبيق** إدارة الأحداث Contoso.

1. اترك علامة تبويب المستعرض مفتوحة، وانتقل مرة أخرى إلى علامة التبويب السابقة التي بها تدفقك.

1. على شريط الأوامر، حدد **اختبار**. حدد **يدوياً**، ثم حدد **اختبار**.

1. انتقل إلى علامة تبويب المستعرض باستخدام التطبيق المستند إلى النموذج.

    وأخيرا، سنقوم بإنشاء **تسجيل** جلسة عمل.

1. باستخدام التنقل على اليسار، حدد **تسجيلات الجلسة.**

1. في **شريط** الأوامر، حدد **+ جديد**.

1. أكمل تسجيل الجلسة كما يلي:

    - **الاسم**: `E, Swenson Registration`.

    - **تاريخ التسجيل:** تاريخ اليوم

    - **المشارك:** `Edgar Swenson`

    - **جلسة:** `Responsible AI`

    ![لقطة شاشة لنموذج تسجيل الجلسة المكتمل. ](media/power-automate-12.png)

1. حدد الزر **حفظ وإغلاق**.

1. انتقل إلى علامة تبويب المتصفح حيث يتم تشغيل اختبار التدفق. بعد لحظات تأخير، يجب أن ترى التدفق قيد التشغيل. تستطيع من هذا المكان تحديد أي مشكلات في التدفق أو التأكد أمن نجاح التشغيل.

بعد تأخير قصير، يجب أن تشاهد رسالة بريد إلكتروني في علبة الوارد.

> **ملاحظة:** الرسالة قد تنتقل إلى مجلد البريد الإلكتروني غير الهام.

