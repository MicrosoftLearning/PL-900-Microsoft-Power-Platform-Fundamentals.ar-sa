---
lab:
  title: 'النشاط المعملي 3: كيفية إنشاء تطبيق يستند إلى نموذج'
  module: 'Module 3: Get started with Power Apps'
---

# <a name="lab-3-how-to-build-a-model-driven-app"></a>النشاط المعملي 3: كيفية إنشاء تطبيق يستند إلى نموذج

## <a name="scenario"></a>السيناريو

Bellows College is an educational organization with multiple buildings on campus. Campus visitors are currently recorded in paper journals. The information is not captured consistently, and there are no means to collect and analyze data about the visits across the entire campus.

ترغب إدارة الحرم الجامعي في تحديث نظام تسجيل الزوار، بحيث يتم التحكم في الوصول إلى المباني من قبل أفراد الأمن، ويجب أن تكون جميع الزيارات مسجلة مسبقًا ويتم تسجيلها من قبل مضيفيها.

خلال هذه الدورة التدريبية، ستقوم بإنشاء تطبيقات وتفعيل التشغيل الآلي لتمكين موظفي إدارة وأمن Bellows College من إدارة الوصول إلى مباني الحرم الجامعي والتحكم فيه.

في هذا النشاط المعملي، ستنشئ تطبيق Power Apps يستند إلى نموذج للسماح لفريق عمل الحرم الجامعي بإدارة سجلات الزيارة عبر الحرم الجامعي بأكمله.

خطوات معملية عالية المستوى

كجزء من إنشاء التطبيق المستند إلى النموذج، ستكمل ما يلي:

- إنشاء تطبيق جديد يستند إلى نموذج يطلق عليه Campus Management

- تحرير لوحة التنقل في التطبيق للإشارة إلى الجداول المطلوبة

- تخصيص النماذج وطرق عرض الجداول المطلوبة للتطبيق

سنعمل مع المكونات التالية:

- **طرق العرض**: تسمح طرق العرض للمستخدم بعرض البيانات الموجودة في جدول النموذج.

- **النماذج**: حيث يقوم المستخدم بإنشاء/تحديث صفوف جديدة في الجداول.

سيتم دمج كليهما في التطبيق المستند إلى النموذج للحصول على تجربة مستخدم أفضل.

المتطلبات الأساسية

- إكمال **الوحدة 0 المختبر 0 - التحقق من صحة بيئة المختبر**
- إكمال **الوحدة 2 النشاط المعملي 1 - نمذجة البيانات**

الأشياء الواجب مراعاتها قبل البدء

- ما التغييرات التي يجب أن نجريها لتحسين تجربة المستخدم؟
- ما الذي يجب تضمينه في التطبيق المستند إلى نموذج بناءً على نموذج البيانات الذي قمنا ببنائه؟
- ما التخصيصات التي يمكن إجراؤها على خريطة الموقع لتطبيق يستند إلى نموذج؟

## <a name="exercise-1-customize-views-and-forms"></a>التمرين 1: تخصيص طرق العرض والنماذج

**Objective:** في هذا التمرين، ستقوم بتخصيص طرق عرض ونماذج الجداول المُنشأة المخصصة التي سيتم استخدامها في التطبيق المستند إلى النموذج.

### <a name="task-1-edit-visit-form"></a>المهمة \#1: تحرير نموذج الزيارة

1. سجّل الدخول إلى [https://make.powerapps.com](https://make.powerapps.com/) إذا لم تكن قد سجلت الدخول مسبقًا.

2. حدد بيئة **الممارسة (الأحرف الأولى من اسمي)** في أعلى اليمين، إذا لم تكن محددةً بالفعل.

3. باستخدام جزء التنقل على اليسار، بادر بتوسيع **Dataverse**، وحدد **الجداول**، وانقر لفتح جدول **الزيارة** لديك.

إذا لم يظهر جدول الزيارة، فتأكد من أنك في البيئة الصحيحة (الخطوة 2).

4. ضمن القسم **تجارب البيانات**، حدد **النماذج** وانقر لفتح نموذج المعلومات بنوع النموذج **الرئيسي**.

<bpt id="p1">**</bpt>IMPORTANT:<ept id="p1">**</ept> Since by default all forms are named Information, make sure to verify that the form you select has a Form Type of <bpt id="p2">**</bpt>Main<ept id="p2">**</ept> and not something else. By default, the form has two fields: Name and Owner.

5. على الجانب الأيمن من الشاشة ضمن لوحة خصائص، حدد حقل **اسم العرض**، وقم بتغييره إلى **معلومات رئيسية**.

6. باستخدام القائمة الموجودة أعلى الشاشة، حدد **+ حقل النماذج** وأضِف الحقول التالية أسفل حقل **المالك** عن طريق سحب الأعمدة إلى النموذج أو ببساطة النقر فوق أسماء الأعمدة:

    1. **Visitor**

    1. **Scheduled Start**

    1. **Scheduled End**

    1. **Actual Start**

    1. **Actual End**

7. اسحب عمود **الرمز** وأفلته في رأس النموذج.

The header is the top right area of the form. You may need to collapse the Properties panel on the right side of the screen to see the field on the form.

8. مع استمرار تحديد حقل **التعليمة البرمجية**، حدد خانة الاختيار **للقراءة فقط** في لوحة الخصائص على الجانب الأيمن من الشاشة.

9. Select <bpt id="p1">**</bpt>Owner<ept id="p1">**</ept> field. In the Properties panel, change the <bpt id="p1">**</bpt>Label<ept id="p1">**</ept> to <bpt id="p2">**</bpt>Host<ept id="p2">**</ept>

10. انقر فوق **حفظ** في الجزء العلوي الأيمن وانتظر حتى يكتمل الحفظ.

11. انقر فوق **نشر** في الجزء العلوي الأيمن وانتظر حتى يكتمل النشر.

12. Bellows College مؤسسة تعليمية يضم حرمها الجامعي العديد من المباني.

13. يتم حاليًا تسجيل زوار الحرم الجامعي في دفاتر عمل ورقية.

### <a name="task-2-edit-active-visits-view"></a>المهمة \#2: تحرير عرض الزيارات النشطة

في هذه المهمة، سنقوم بتعديل طريقة العرض الافتراضية «للزيارات النشطة» وإنشاء طريقة عرض جديدة لزيارات اليوم.

1. ضمن قسم **تجارب البيانات**، حدد **طرق العرض** وانقر لفتح طريقة عرض **الزيارات النشطة**.

2. أضف الحقول التالية إلى طريقة العرض إما بالنقر فوق الحقول أو سحبها وإفلاتها:

    1. **رمز**

    2. **Visitor**

    3. **Scheduled Start**

    4. **Scheduled End**

3. ولا يتم جمع المعلومات بشكل متسق، ولا توجد وسيلة لجمع وتحليل البيانات المتعلقة بالزيارات عبر الحرم الجامعي بأكمله.

4. اضبط قياس الأعمدة الفردية ليناسب البيانات.

5. انقر فوق **حفظ** وانتظر حتى يتم حفظ التغييرات.

6. انقر فوق **نشر** وانتظر حتى يكتمل النشر.

### <a name="task-3-create-new-view-for-todays-visits"></a>المهمة #3: إنشاء طريقة عرض جديدة لزيارات اليوم

سنقوم الآن باستنساخ طريقة العرض لإنشاء طريقة عرض جديدة لزيارات اليوم.

هام: تأكد من عدم إغلاق طريقة عرض «الزيارات النشطة»، لأننا سنستفيد منها لإنشاء طريقة عرض الزيارات الجديدة اليوم.

1. انقر فوق **سهم القائمة المنسدلة** بجانب زر الحفظ (احرص على عدم الضغط على الزر نفسه) وحدد **حفظ باسم**.

2. غيّر الاسم إلى **زيارات اليوم**، واضغط على **حفظ**.

3. اضغط على رابط **تحرير عوامل التصفية** في لوحة الخصائص.

4. انقر فوق **إضافة**، وحدد **إضافة صف**.

5. حدد **البداية المجدولة** كحقل، ثم حدد **اليوم** كشرط في القائمة المنسدلة.

6. Click the <bpt id="p1">**</bpt>…<ept id="p1">**</ept> on the <bpt id="p1">**</bpt>Status<ept id="p1">**</ept> row and click <bpt id="p2">**</bpt>Delete<ept id="p2">**</ept> to delete that filter condition.

7. Press <bpt id="p1">**</bpt>Ok<ept id="p1">**</ept> to save the condition. The view is now filtered to show only records where the Scheduled Start date is today.

8. أضف حقلي **البداية الفعلية** و**النهاية الفعلية** إلى طريقة العرض.

<bpt id="p1">**</bpt>Note:<ept id="p1">**</ept> Since we no longer filter on the view status, we will get all today’s visits including completed ones. These fields will help to differentiate completed visits and visits in progress.

1. انقر فوق **Save**.

2. انقر فوق **نشر** وانتظر حتى يكتمل النشر.

## <a name="exercise-2-create-model-driven-app"></a>التمرين 2: إنشاء تطبيق يستند إلى نموذج

**الهدف:** في هذا التمرين، ستقوم بإنشاء تطبيق يستند إلى نموذج، وتخصيص خريطة الموقع، واختبار التطبيق.

من أجل البساطة والوقت، لن نتناول بعض أعمدة الزيارة في هذا النشاط المعملي.

### <a name="task-1-create-app"></a>المهمة \#1: إنشاء تطبيق

1. سجّل الدخول إلى [https://make.powerapps.com](https://make.powerapps.com/) (إذا لم تكن قد سجلت الدخول بالفعل).

2. حدد بيئة **الممارسة (الأحرف الأولى من اسمي)** في أعلى اليمين، إذا لم تكن محددةً بالفعل.

3.  عند الضرورة، انقر فوق أيقونة **الصفحة الرئيسية** على الجانب الأيسر من الشاشة.

3. إنشاء التطبيق المستند إلى النموذج:

    1. حدد **تطبيق فارغ** في قسم **البدء من** في الشاشة الرئيسية.

    1. ضمن **تطبيق فارغ يعتمد على Dataverse**، حدد **إنشاء**.

    1. أدخِل **إدارة الحرم الجامعي Bellows** للاسم وحدد **إنشاء**.

4. بعد تحميل التطبيق الجديد المستند إلى النموذج لديك، حدد الزر **+ إضافة صفحة**.

5. في شاشة "إضافة صفحة"، اختر **طريقة العرض والنموذج المستندين إلى الجدول**، ثم حدد الزر **التالي**.

6. أضِف الجداول التالية:

    1. زيارة

    1. جهة اتصال

7. بعد تحديد الجدولين، حدد **إضافة**.

8. باستخدام أيقونات التنقل على الجانب الأيسر من الشاشة، حدد **التنقل**.

9. في جزء التنقّل، حدد النص **مجموعة 1** أدناه حيث يظهر شريط التنقل.

10. على الجانب الأيمن من الشاشة، في القسم **خيارات العرض**، قم بتغيير خاصية **العنوان** إلى **الأمان**.

### <a name="task-2-edit-your-app"></a>المهمة رقم 2: تحرير تطبيقك

الآن بعد أن أضفنا جميع المكونات الضرورية إلى تطبيقك المستند إلى النموذج، سننظم الآن العناصر.

1. في جزء التنقّل، ضمن مجموعة الأمان، حدد **SubArea1**.

2. حدد **علامة الحذف**، ومن القائمة التي تظهر، حدد **إزالة SubArea1**.

3. باستخدام التنقل على الجانب الأيسر من الشاشة، حدد **صفحات**.

4. حدد موقع جدول **الزيارة** وبادر بتوسيعه في جزء الصفحات.

5. حدد **نموذج الزيارة**.

6. على الجانب الأيسر من الشاشة، حدد **إضافة نموذج**.

7. حدد نموذج **المعلومات الرئيسية**.

8. حدد **عرض الزيارة**، ضمن **الزيارة** في جزء الصفحات.

9. على الجانب الأيسر من الشاشة، حدد **إضافة طريقة عرض**.

10. حدد طريقة العرض **زيارات اليوم**.

11. حدد **إضافة طريقة عرض** مرة أخرى. 

12. حدد طريقة العرض **الزيارات النشطة**. 

13. حدد ⁧**⁩حفظ⁧**⁩.

14. بمجرد اكتمال **الحفظ**، حدد الزر **نشر** لنشر التغييرات خاصتك.

### <a name="task-3-test-application"></a>المهمة #3: اختبار التطبيق

1. بدء التطبيق

    1. حدد **تشغيل** لفتح تطبيقك في نافذة جديدة.

2. إنشاء جهة اتصال جديدة

    1. The app should open to the <bpt id="p1">**</bpt>My Active Contacts<ept id="p1">**</ept> view. If it does not, select Contacts on the left-hand navigation.

    1. انقر فوق **جديد** من القائمة العلوية.

    1. أدخل **الاسم الأول** مثل "سمير" و**اسم العائلة** مثل "سليم".

    1. Provide your personal email as <bpt id="p1">**</bpt>Email<ept id="p1">**</ept>. This will be used in a future lab where you will receive an email.

    1. انقر فوق **Save & Close**.

    1. يجب أن ترى الآن جهة الاتصال التي تم إنشاؤها في عرض **جهة الاتصال النشطة**.

3. إنشاء زيارة جديدة

    1. حدد **الزيارات** من شريط التنقل الأيسر لخريطة الموقع.

    1. انقر على **+ New**.

    1. أدخل الحقول على النحو التالي

        1. **الاسم**: زيارة اختبار جديدة

        1. **الزائر**: حدد فلان الفلاني

        1. **البداية المجدولة**: حدد تاريخ الغد والساعة 2:00 مساءً كوقت البدء

        1. **النهاية المجدولة**: حدد تاريخ الغد والساعة 3:30 مساءً كوقت الانتهاء

- Click <bpt id="p1">**</bpt>Save &amp; Close<ept id="p1">**</ept>. This will create the Visit and you should be able to see it on the Active Visits View.

- Change view to <bpt id="p1">**</bpt>Today’s Visits<ept id="p1">**</ept>. You should no longer see the new visit in the view, since it is scheduled for tomorrow.

4. يمكنك إضافة المزيد من سجلات الاختبار.

يجب أن يبدو تطبيقك قيد التشغيل كما يلي تقريبًا:

![](media/3-model-driven-app.png)

Congratulations! You have created and configured your first model-driven app.

## <a name="challenges"></a>التحديات

- تحديد طرق عرض ونماذج معينة لجهات الاتصال