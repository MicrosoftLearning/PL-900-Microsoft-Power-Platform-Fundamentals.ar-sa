---
lab:
  title: 'النشاط المعملي 4: كيفية إنشاء حل تلقائي'
  module: 'Module 4: Get Started with Power Automate'
---

# <a name="lab-4-how-to-build-an-automated-solution"></a>النشاط المعملي 4: كيفية إنشاء حل تلقائي

## <a name="scenario"></a>السيناريو

Bellows College مؤسسة تعليمية يضم حرمها الجامعي العديد من المباني. يتم حاليًا تسجيل زوار الحرم الجامعي في دفاتر عمل ورقية. ولا يتم جمع المعلومات بشكل متسق، ولا توجد وسيلة لجمع وتحليل البيانات المتعلقة بالزيارات عبر الحرم الجامعي بأكمله.

ترغب إدارة الحرم الجامعي في تحديث نظام تسجيل الزوار، بحيث يتم التحكم في الوصول إلى المباني من قبل أفراد الأمن، ويجب أن تكون جميع الزيارات مسجلة مسبقًا ويتم تسجيلها من قبل مضيفيها.

خلال هذه الدورة التدريبية، ستقوم بإنشاء تطبيقات وتفعيل التشغيل الآلي لتمكين موظفي إدارة وأمن Bellows College من إدارة الوصول إلى مباني الحرم الجامعي والتحكم فيه.

في هذا التمرين المعملي، ستقوم بإنشاء تدفق Power Automate لإرسال بريد إلكتروني إلى زائر عند جدولة الزيارة.

## <a name="high-level-lab-steps"></a>خطوات معملية عالية المستوى

تم تحديد التالي كمتطلبات يجب عليك تنفيذها لإكمال المشروع:

- يجب إعلام جهات الاتصال عبر البريد الإلكتروني عند جدولة الزيارة.

## <a name="prerequisites"></a>المتطلبات الأساسية

- إكمال **الوحدة 0 المختبر 0 - التحقق من صحة بيئة المختبر**
- إكمال **الوحدة 2 النشاط المعملي 1 - نمذجة البيانات**
- إكمال **الوحدة 2 النشاط المعملي 3 - كيفية إنشاء تطبيق يستند إلى النموذج**
- تم إنشاء جهة اتصال John Doe باستخدام عنوان بريد إلكتروني شخصي

## <a name="exercise-1-create-visit-notification-flow"></a>التمرين 1: إنشاء تدفق Visit Notification

**Objective:** في هذا التمرين، سوف تنشئ تدفق Power Automate ينفذ المتطلبات. ينبغي إرسال بريد إلكتروني للزائر يتضمن الرمز الفريد المخصص للزيارة فور إنشاء الزيارة.

### <a name="task-1-create-a-flow"></a>المهمة \#1: إنشاء تدفق

1.  انتقل إلى ⁧<https://make.powerapps.com>⁩. قد تحتاج إلى إعادة المصادقة - انقر فوق **تسجيل الدخول** واتبع التعليمات إذا لزم الأمر.

2.  حدد بيئة **الممارسة (الأحرف الأولى من اسمي)** في أعلى اليمين، إذا لم تكن محددةً بالفعل.

3.  في شريط التنقل الأيسر، حدد **تدفقات**.

4.  إذا تمت مطالبتك، فحدد **بدء الاستخدام**.

5.  انقر فوق **تدفق جديد** وحدد **تدفق سحابي تلقائي**.

6.  أدخل "إعلام الزيارة" **لاسم التدفق**.

7.  في **اختيار مشغل التدفق لديك**، ابحث عن **Dataverse**.

8.  حدد المشغل **When a row is added, modified or deleted**، ثم انقر فوق **Create**.

9.  بادر بملء شروط المشغل للتدفق:

    1.  تحديد **Added** لـ **Change type**

    2.  حدد **الزيارات** في **اسم الجدول**

    3.  حدد **المنظمة** في **النطاق**

    4.  في خطوة المشغل، انقر فوق علامة الحذف ( **...** ) وانقر فوق **Rename**. أعد تسمية هذا المشغل **"When a visit is added"** . هذه ممارسة جيدة، لذا يمكنك أنت ومحررو التدفق الآخرون فهم الغرض من الخطوة دون الحاجة إلى الخوض في التفاصيل.

### <a name="task-2-create-a-step-to-get-the-visitor-row"></a>المهمة \#2: بادر بإنشاء خطوة صف "الوصول إلى الزائر"

1.  حدد **New step+**. هذه الخطوة مطلوبة لاسترداد معلومات الزوار، متضمنة عنوان البريد الإلكتروني.

2.  ابحث عن **Dataverse**.

3.  حدد إجراء **الوصول إلى صف حسب المعرّف**.

4.  حدد **جهات الاتصال** في **اسم الجدول**

5.  حدد الحقل **معرف الصف**. لاحظ وجود نافذة منبثقة لتحديد المحتوى الديناميكي أو التعبيرات.

6.  في حقل **معرف الصف**، حدد **الزائر (قيمة)** من قائمة المحتوى الديناميكي. في هذه الخطوة، تبحث عن جهة الاتصال لصف الزيارة الذي تم إنشاؤه لتشغيل هذا التدفق. نظرا لأن عنوان البريد الإلكتروني هو جزء من جدول جهات الاتصال، فستحتاج إلى هذه المعلومات لإرسال البريد الإلكتروني إلى الزائر.

7.  في هذا الإجراء، انقر فوق علامة الحذف ( **...** ) وانقر فوق **Rename**.
        أعد تسمية هذا الإجراء **"الوصول إلى الزائر"** . هذه ممارسة جيدة، لذا يمكنك أنت ومحررو التدفق الآخرون فهم الغرض من الخطوة دون الحاجة إلى الخوض في التفاصيل.

### <a name="task-3-create-a-step-to-send-an-email-to-the-visitor"></a>المهمة \#3: إنشاء خطوة لإرسال بريد إلكتروني إلى الزائر

1.  انقر فوق **+ خطوة جديدة**. هذه هي الخطوة التي ستنشئ رسالة بريد إلكتروني وترسلها للزائر.

2.  ابحث عن *mail* وحدد موصل **Office 365 Outlook** وإجراء **Send an email (V2)** .

3.  إذا طُلب منك قبول الأحكام والشروط لاستخدام هذا الإجراء، فانقر فوق **قبول**.

4.  حدد **إضافة محتوى ديناميكي** ضمن الحقل **إلى**. 
    
5.  حدد **البريد الإلكتروني** من قائمة المحتوى الديناميكي.
        > Notice that it is beneath the **Get the visitor** header. This means you
        are selecting the Email that is related to the Visitor that you looked
        up in the previous step.

6.  أدخل **زيارتك المجدولة إلى Bellows College** في حقل **الموضوع**.

7.  أدخل النص التالي في **نص البريد الإلكتروني**:

>   يتعين وضع المحتوى الديناميكي حيث تتم تسمية الحقول بين قوسين. يوصى بنسخ كل النص ولصقه أولاً ثم إضافة المحتوى الديناميكي في الأماكن الصحيحة.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
   Dear {First Name},

   You are currently scheduled to visit Bellows Campus from {Scheduled Start} until {Scheduled End}.

   Best regards,

   Campus Administration
   Bellows College
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

8.  بادر بتمييز النص **{First Name}** . استبدله بالحقل **الاسم الأول** من خطوة **الوصول إلى الزائر**.

9.  بادر بتمييز نص **{Scheduled Start}** . استبدله بالحقل **بدء المجدول** **عند إضافة خطوة زيارة**.

10.  بادر بتمييز نص **{Scheduled End}** . استبدله بالحقل **الانتهاء المجدول** من الخطوة **عند إضافة زيارة**.

11.  انقر فوق **Save**.

اترك علامة تبويب التدفق مفتوحة من أجل المهمة التالية. ينبغي أن يبدو تدفقك كما يلي تقريبًا:

![مثال على خطوات التدفق.](media/4-Flow.png)

### <a name="task-4-validate-and-test-the-flow"></a>المهمة \#4: التحقق من صحة التدفق واختباره

1.  افتح علامة تبويب جديدة في متصفحك وانتقل إلى <https://make.powerapps.com>.

2.  حدد بيئة **الممارسة (الأحرف الأولى من اسمي)** في أعلى اليمين، إذا لم تكن محددةً بالفعل.

3.  انقر فوق **تطبيقات** وحدد التطبيق **المستند إلى إدارة الحرم الجامعي** الذي أنشأته مسبقًا.

3.  اترك علامة تبويب المستعرض مفتوحة، وانتقل مرة أخرى إلى علامة التبويب السابقة التي بها تدفقك.

4.  في شريط الأوامر، انقر فوق **اختبار**. حدد **يدويًا** ثم انقر فوق **اختبار**.

5.  انتقل إلى علامة تبويب المستعرض باستخدام التطبيق المستند إلى النموذج. 

6.  باستخدام جزء التنقل على اليسار، حدد **الزيارات**

6. اضغط على الزر **+ جديد** لإضافة سجل **زيارة** جديد.

7. أكمل سجل "الزيارة" كما يلي:

    -   **Name:** اختبار زيارة

    -   **الزائر:** John Doe

    -   **البداية المجدولة:** غداً الساعة 8:00 صباحاً

    -   **النهاية المجدولة:** غداً الساعة 9:00 صباحاً

8. حدد زر **حفظ وإغلاق**.

9. انتقل إلى علامة تبويب المستعرض مع تشغيل اختبار التدفق. بعد لحظات تأخير، يجب أن ترى التدفق قيد التشغيل. تستطيع من هذا المكان تحديد أي مشكلات في التدفق أو التأكد أمن نجاح التشغيل.

بعد تأخير وجيز، يجب أن تشاهد رسالة بريد إلكتروني في صندوق الوارد لديك، نظراً لأنك أدخلت البريد الإلكتروني لـ John Doe كبريدك الإلكتروني الشخصي. لاحظ أن الرسالة قد تنتقل إلى مجلد البريد الإلكتروني غير الهام.

## <a name="challenges"></a>التحديات

- تحرك حول التنسيق الموجود في البريد الإلكتروني. كيف يمكنك جعله يبدو أكثر احترافيةً؟