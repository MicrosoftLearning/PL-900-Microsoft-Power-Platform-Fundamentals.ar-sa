---
lab:
  title: 'النشاط المعملي 4: كيفية إنشاء حل تلقائي'
  module: 'Module 4: Describe building automation with Microsoft Power Automate'
---

# النشاط المعملي 4: كيفية إنشاء حل تلقائي

**حسابات مستأجر WWL - شروط الاستخدام** إذا تم تزويدك بحساب مستأجر كجزء من تقديم تدريب بقيادة مدرب، يرجى ملاحظة أن حساب المستأجر متاح لغرض دعم الأنشطة المعملية ضمن التدريب بقيادة المدرب. يجب عدم مشاركة حسابات المستأجر أو استخدامها لأغراض خارج الأنشطة المعملية. المستأجر المستخدم في هذه الدورة التدريبية هو مستأجر تجريبي ولا يمكن استخدامه أو الوصول إليه بعد انتهاء الفصل الدراسي وهو غير مؤهل للتمديد. يجب عدم تحويل حسابات المستأجر إلى اشتراك مدفوع. تظل حسابات المستأجر التي تم الحصول عليها كجزء من هذه الدورة التدريبية ملكًا لشركة Microsoft Corporation ونحتفظ بالحق في الوصول إليها واستعادة ملكيتها في أي وقت. 

## السيناريو

Bellows College مؤسسة تعليمية تضم العديد من الأحرام الجامعية والبرامج. يحتاج العديد من المدربين والمسؤولين في Bellow Colleges إلى حضور الفعاليات وشراء العناصر. كان تتبع هذه النفقات تاريخيًا أحد التحديات. 

ترغب إدارة الحرم الجامعي في تحديث نظام الإبلاغ عن النفقات لديها من خلال تزويد الموظفين بطريقة رقمية للإبلاغ عن النفقات. 

خلال هذه الدورة التدريبية، سننشئ التطبيقات وننفذ الأتمتة لتمكين موظفي Bellows College من إدارة النفقات. 

في هذا التمرين المعملي، ستنشئ تدفق Power Automate لإرسال نسخة من تقرير المصروفات عبر البريد الإلكتروني عند إنشاء تقرير مصروفات جديد.

## خطوات معملية عالية المستوى

تم تحديد التالي كمتطلبات يجب عليك تنفيذها لإكمال المشروع:

- يحتاج الموظفون إلى تلقي رسالة بريد إلكتروني عند إرسال تقرير المصروفات. 

### المتطلبات الأساسية

- إكمال **الوحدة 1 المختبر 0 - التحقق من صحة بيئة المختبر**

## التمرين 1: إنشاء تدفق الإخطار بتقرير المصروفات

**الهدف:** في هذا التمرين، ستقوم بإنشاء تدفق Power Automate ينفذ المتطلبات. 

### المهمة #1: إنشاء تدفق

1. انتقل إلى `https://make.powerapps.com`

1. قد تحتاج إلى إعادة المصادقة، حدد **تسجيل الدخول** واتبع التعليمات إذا لزم الأمر.

1. حدد بيئة **Dev One** في الجزء العلوي الأيمن إذا لم تكن محددة بالفعل.

1. في شريط التنقل الأيسر، حدد **تدفقات**.

1. إذا تمت مطالبتك، فحدد **بدء الاستخدام**.

1. حدد **+ تدفق جديد** وحدد **التدفق السحابي التلقائي**.

1. أدخل `Expense Notification` كـ **اسم التدفق**.

1. في **اختيار مشغل التدفق لديك**، ابحث عن Dataverse.

1. اختر المشغل **عند إضافة صف، أو تعديله أو حذفه**، ثم حدد **إنشاء**.

1. بادر بملء شروط المشغل للتدفق:

    1. حدد **تمت الإضافة** في **نوع التغيير**
    
    1. حدد **تقارير المصروفات** **لاسم الجدول**

    1. حدد **المنظمة** في **النطاق**

    1. **في خطوة التشغيل، حدد علامة الحذف (...** ) وحدد **إعادة التسمية**. أعد تسمية الخطوة المشغِّلة `When an Expense Report is added` 

هذه ممارسة جيدة، لذا يمكنك أنت ومحررو التدفق الآخرون فهم الغرض من الخطوة دون الحاجة إلى الخوض في التفاصيل.

### المهمة رقم 2: إنشاء خطوة للحصول على صف تقرير المصروفات

1. حدد **+ خطوة جديدة**. ستقوم هذه الخطوة باسترداد معلومات تقرير المصروفات، بما في ذلك عنوان البريد الإلكتروني.

1. ابحث عن Dataverse

1. حدد إجراء **الوصول إلى صف حسب المعرّف**.

1. حدد **المستخدمين** **كاسم الجدول**

1. حدد الحقل **معرف الصف**. لاحظ وجود نافذة منبثقة لتحديد **المحتوى الديناميكي** أو **التعبيرات**.

1. في حقل **معرف الصف**، حدد **المالك (قيمة)** من قائمة **المحتوى الديناميكي**. في هذه الخطوة، تبحث عن المالك لصف تقرير المصروفات الذي تم إنشاؤه لتشغيل هذا التدفق. 

1. **في إجراء **الحصول على صف حسب المعرف**، حدد علامة الحذف (...** ) وحدد **إعادة التسمية**. أعد تسمية هذا الإجراء `Get the Owner`.

هذه ممارسة جيدة، لذا يمكنك أنت ومحررو التدفق الآخرون فهم الغرض من الخطوة دون الحاجة إلى الخوض في التفاصيل.

### المهمة #3: إنشاء خطوة لإرسال رسالة بالبريد الإلكتروني لتأكيد إرسال تقرير المصروفات

1. حدد **+ خطوة جديدة**. هذه هي الخطوة التي سترسل رسالة بالبريد الإلكتروني إلى الشخص الذي أرسل تقرير مصروفات.

1. ابحث عن البريد، وحدد الإجراء **إرسال رسالة بالبريد الإلكتروني (V2)** من موصل **Office 365 Outlook**.

1. إذا طُلب منك قبول الشروط والأحكام الخاصة باستخدام هذا الإجراء، فحدد **قبول**.

1. حدد الحقل **إلى** وأدخل عنوان بريدك الإلكتروني الشخصي. (هناك العديد من الطرق التي يمكننا من خلالها ملء عنوان بريد إلكتروني ديناميكيًا، ولكن في هذا التمرين سنعينه يدويًا.)  

1. في الحقل **الموضوع**، أدخل `Your expense report was submitted`

1. أدخل النص التالي في **نص البريد الإلكتروني**:

يتعين وضع المحتوى الديناميكي حيث تتم تسمية الحقول بين قوسين. يوصى بنسخ كل النص ولصقه أولاً ثم إضافة المحتوى الديناميكي في الأماكن الصحيحة.

    Dear {First Name},
    
    Thank you for submitting your expense report for the total amount of {Report Total Amount} with a due date of {Report Due Date}.
    
     
    Best regards,
    Campus Administration
    Bellows College

1. بادر بتمييز النص **{First Name}**. استبدله بالحقل **الاسم الأول** من خطوة **الوصول إلى المالك**.

1. قم بتمييز النص **{Report Total Amount}**. استبدله **بالحقل **"المبلغ** الإجمالي للتقرير" عند إضافة** خطوة "تقرير المصروفات".

1. قم بتمييز النص **{Report Due Date}**. استبدله **بالحقل "تقرير تاريخ** الاستحقاق" **من الخطوة "عند إضافة** تقرير مصروفات".

1. حدد **حفظ**.

اترك علامة تبويب التدفق مفتوحة من أجل المهمة التالية. يجب أن يبدو التدفق على النحو التالي:

![لقطة شاشة للتدفق الذي تم إنشاؤه للتو](media/lab-4-create-an-automated-solution-01.png)

### المهمة #4: التحقق من صحة التدفق واختباره

1. افتح علامة تبويب جديدة في متصفحك وانتقل إلى `https://make.powerapps.com`.

1. حدد بيئة **Dev One** في الجزء العلوي الأيمن إذا لم تكن محددة بالفعل.

1. حدد **التطبيقات** وافتح **تطبيق متعقب النفقات**.

1. اترك علامة تبويب المستعرض مفتوحة، وانتقل مرة أخرى إلى علامة التبويب السابقة التي بها تدفقك.

1. على شريط الأوامر، حدد **اختبار**. حدد **يدوياً**، ثم حدد **اختبار**.

1. انتقل إلى علامة تبويب المستعرض باستخدام التطبيق المستند إلى النموذج.

1. باستخدام التنقل في خريطة الموقع على اليسار، حدد **تقرير المصروفات**.

1. حدد الزر **+ جديد** لإضافة سجل **تقرير مصروفات** جديد.

1. أكمل سجل **تقرير المصروفات** كما يلي:

    - **اسم التقرير:** `Test Report`

    - **الغرض من التقرير:** مؤتمر

    - **تاريخ استحقاق التقرير:** غدا

1. حدد الزر **حفظ وإغلاق**.

1. انتقل إلى علامة تبويب المتصفح حيث يتم تشغيل اختبار التدفق. بعد لحظات تأخير، يجب أن ترى التدفق قيد التشغيل. تستطيع من هذا المكان تحديد أي مشكلات في التدفق أو التأكد أمن نجاح التشغيل.

بعد تأخير قصير، يجب أن تشاهد رسالة بريد إلكتروني في علبة الوارد. 

>**ملاحظة:** الرسالة قد تنتقل إلى مجلد البريد الإلكتروني غير الهام.
