---
lab:
  title: 'النشاط المعملي 4: كيفية إنشاء حل تلقائي'
  module: 'Module 4: Get Started with Power Automate'
---

# النشاط المعملي 4: كيفية إنشاء حل تلقائي

**حسابات مستأجر WWL - شروط الاستخدام** إذا تم تزويدك بحساب مستأجر كجزء من تقديم تدريب بقيادة مدرب، يرجى ملاحظة أن حساب المستأجر متاح لغرض دعم الأنشطة المعملية ضمن التدريب بقيادة المدرب. يجب عدم مشاركة حسابات المستأجر أو استخدامها لأغراض خارج الأنشطة المعملية. حساب المستأجر المستخدم في هذه الدورة التدريبية هو حساب مستأجر تجريبي، ولا يجوز استخدامه أو الوصول إليه بعد انتهاء الفصل وهو غير مؤهل للتمديد. يجب عدم تحويل حسابات المستأجر إلى اشتراك مدفوع. تظل حسابات المستأجر التي تم الحصول عليها كجزء من هذه الدورة التدريبية ملكًا لشركة Microsoft Corporation ونحتفظ بالحق في الوصول إليها واستعادة ملكيتها في أي وقت. 

## السيناريو

Bellows College مؤسسة تعليمية يضم حرمها الجامعي العديد من المباني. يتم حاليًا تسجيل زوار الحرم الجامعي في دفاتر عمل ورقية. ولا يتم جمع المعلومات بشكل متسق، ولا توجد وسيلة لجمع وتحليل البيانات المتعلقة بالزيارات عبر الحرم الجامعي بأكمله.

ترغب إدارة الحرم الجامعي في تحديث نظام تسجيل الزوار، بحيث يتم التحكم في الوصول إلى المباني من قبل أفراد الأمن، ويجب أن تكون جميع الزيارات مسجلة مسبقًا ويتم تسجيلها من قبل مضيفيها.

خلال هذه الدورة التدريبية، ستقوم بإنشاء تطبيقات وتفعيل التشغيل الآلي لتمكين موظفي إدارة وأمن Bellows College من إدارة الوصول إلى مباني الحرم الجامعي والتحكم فيه.

في هذا النشاط المعملي، ستقوم بإنشاء تدفق Power Automate لإرسال بريد إلكتروني إلى زائر عند جدولة الزيارة.

## خطوات معملية عالية المستوى

تم تحديد التالي كمتطلبات يجب عليك تنفيذها لإكمال المشروع:

- يجب إعلام جهات الاتصال عبر البريد الإلكتروني عند جدولة الزيارة.

## المتطلبات الأساسية

- **إكمال الوحدة 1 المعمل 0 - التحقق من صحة بيئة المختبر**
- إكمال **الوحدة 2 النشاط المعملي 1 - نمذجة البيانات**
- إكمال **الوحدة 2 النشاط المعملي 3 - كيفية إنشاء تطبيق يستند إلى النموذج**
- تم إنشاء جهة اتصال John Doe باستخدام عنوان بريد إلكتروني شخصي.

## التمرين 1: إنشاء تدفق إشعارات الزيارة

**الهدف:** في هذا التمرين، ستقوم بإنشاء تدفق Power Automate ينفذ المتطلبات. ينبغي إرسال بريد إلكتروني للزائر يتضمن الرمز الفريد المخصص للزيارة فور إنشاء الزيارة.

### المهمة \#1: إنشاء تدفق

1.  انتقل إلى `https://make.powerapps.com`

2.  قد تحتاج إلى إعادة المصادقة، وحدد **تسجيل الدخول** واتبع الإرشادات، إذا لزم الأمر.

3.  **حدد بيئة Dev One** في أعلى اليمين، إذا لم تكن محددة بالفعل.

4.  في شريط التنقل الأيسر، حدد **تدفقات**.

5.  إذا تمت مطالبتك، فحدد **بدء الاستخدام**.

6.  حدد **+ تدفق جديد** وحدد **التدفق السحابي التلقائي**.

7.  أدخل `Visit Notification` كـ **اسم التدفق**.

8.  في **اختيار مشغل التدفق**، ابحث عن `Dataverse`

9.  اختر المشغل **عند إضافة صف أو تعديله أو حذفه**، ثم حدد **إنشاء**.

10.  بادر بملء شروط المشغل للتدفق:

    1.  حدد **تمت الإضافة** في **نوع التغيير**

    2.  حدد **الزيارات** في **اسم الجدول**

    3.  حدد **المنظمة** في **النطاق**

    4.  **في خطوة التشغيل، حدد علامة الحذف (...** ) وحدد **إعادة التسمية**. أعد تسمية الخطوة المشغِّلة `When a Visit is added` 

        هذه ممارسة جيدة، لذا يمكنك أنت ومحررو التدفق الآخرون فهم الغرض من الخطوة دون الحاجة إلى الخوض في التفاصيل.


### المهمة \#2: إنشاء خطوة للوصول إلى صف الزائر

1.  حدد **+ خطوة جديدة**. ستقوم هذه الخطوة باسترداد معلومات الزائر، بما في ذلك عنوان البريد الإلكتروني.

2.  ابحث عن `Dataverse`

3.  حدد إجراء **الوصول إلى صف حسب المعرّف**.

4.  حدد **جهات الاتصال** في **اسم الجدول**

5.  حدد الحقل **معرف الصف**. لاحظ وجود نافذة منبثقة لتحديد **المحتوى الديناميكي** أو **التعبيرات**.

6.  في حقل **معرف الصف**، حدد **الزائر (قيمة)** من قائمة **المحتوى الديناميكي**. في هذه الخطوة، تبحث عن جهة الاتصال لصف الزيارة الذي تم إنشاؤه لتشغيل هذا التدفق. نظرا لأن عنوان البريد الإلكتروني هو جزء من جدول جهات الاتصال، فستحتاج إلى هذه المعلومات لإرسال البريد الإلكتروني إلى الزائر.

7.  **في إجراء **الحصول على صف حسب المعرف**، حدد علامة الحذف (...** ) وحدد **إعادة التسمية**. أعد تسمية هذا الإجراء `Get the Visitor`
 
    هذه ممارسة جيدة، لذا يمكنك أنت ومحررو التدفق الآخرون فهم الغرض من الخطوة دون الحاجة إلى الخوض في التفاصيل.


### المهمة \# 3: إنشاء خطوة لإرسال بريد إلكتروني إلى الزائر

1.  حدد **+ خطوة جديدة**. هذه هي الخطوة التي ستنشئ رسالة بريد إلكتروني وترسلها للزائر.

2.  ابحث عن`mail`، حدد إجراء **إرسال بريد إلكتروني (V2)** من موصل **Office 365 Outlook**.

3.  إذا طُلب منك قبول الشروط والأحكام الخاصة باستخدام هذا الإجراء، فحدد **قبول**.

4.  حدد **إضافة محتوى ديناميكي** ضمن الحقل **إلى**. 
    
5.  حدد **البريد الإلكتروني** من قائمة المحتوى الديناميكي.

    > لاحظ أنه يوجد أسفل عنوان **الوصول إلى الزائر**. هذا يعني أنك تختار البريد الإلكتروني المرتبط بالزائر الذي بحثت عنه في الخطوة السابقة.

7.  في الحقل **الموضوع**، أدخل `Your scheduled visit to Bellows College`

8.  أدخل النص التالي في **نص البريد الإلكتروني**:

    > يتعين وضع المحتوى الديناميكي حيث تتم تسمية الحقول بين قوسين. يوصى بنسخ كل النص ولصقه أولاً ثم إضافة المحتوى الديناميكي في الأماكن الصحيحة.

    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    Dear {First Name},

    You are currently scheduled to visit Bellows Campus from {Scheduled Start} until {Scheduled End}.

    Best regards,

    Campus Administration
    Bellows College
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

8.  بادر بتمييز النص **{First Name}**. استبدله بالحقل **الاسم الأول** من خطوة **الوصول إلى الزائر**.

9.  بادر بتمييز نص **{Scheduled Start}**. استبدله بالحقل **بدء المجدول****عند إضافة خطوة زيارة**.

10.  بادر بتمييز نص **{Scheduled End}**. استبدله بالحقل **الانتهاء المجدول** من الخطوة **عند إضافة زيارة**.

11.  حدد **حفظ**.

اترك علامة تبويب التدفق مفتوحة من أجل المهمة التالية. ينبغي أن يبدو تدفقك كما يلي تقريبًا:

![Example of flow steps.](media/4-Flow.png)


### المهمة \# 4: التحقق من التدفق واختباره

1.  فتح علامة تبويب جديدة في المستعرض الخاص بك والذهاب إلى `https://make.powerapps.com`

2.  **حدد بيئة Dev One** في أعلى اليمين، إذا لم تكن محددة بالفعل.

3.  حدد **التطبيقات** وافتح تطبيق **Bellows Campus Management** المستند إلى النموذج الذي أنشأته سابقًا.

3.  اترك علامة تبويب المستعرض مفتوحة، وانتقل مرة أخرى إلى علامة التبويب السابقة التي بها تدفقك.

4.  على شريط الأوامر، حدد **اختبار**. حدد **يدوياً**، ثم حدد **اختبار**.

5.  انتقل إلى علامة تبويب المستعرض باستخدام التطبيق المستند إلى النموذج. 

6.  باستخدام التنقل في خريطة الموقع على اليسار، حدد **الزيارات**.

6.  حدد زر **+ جديد** لإضافة سجل **زيارة** جديد.

7.  أكمل سجل "الزيارة" كما يلي:

    -   **الاسم:** `Test Visit`

    -   **الزائر:** John Doe

    -   **البداية المجدولة:** غدًا الساعة 8:00 صباحًا

    -   **الموعد المقرر:** غدًا الساعة 9:00 صباحًا

8.  حدد الزر **حفظ وإغلاق**.

9.  انتقل إلى علامة تبويب المتصفح حيث يتم تشغيل اختبار التدفق. بعد لحظات تأخير، يجب أن ترى التدفق قيد التشغيل. تستطيع من هذا المكان تحديد أي مشكلات في التدفق أو التأكد أمن نجاح التشغيل.

    بعد تأخير وجيز، يجب أن تشاهد رسالة بريد إلكتروني في صندوق الوارد لديك، نظراً لأنك أدخلت البريد الإلكتروني لـ John Doe كبريدك الإلكتروني الشخصي. لاحظ أن الرسالة قد تنتقل إلى مجلد البريد الإلكتروني غير الهام.


## التحدي

- جرِّب التنسيق على البريد الإلكتروني. كيف يمكنك جعله يبدو أكثر احترافية؟


